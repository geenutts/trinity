https://github.com/geenutts/trinity/blob/eth2_sim/eth2/beacon/state_machines/state_transitions.py